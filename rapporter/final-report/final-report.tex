% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

\documentclass[a4paper]{report}

\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[pdftex]{graphicx}
\usepackage{float}
\usepackage{fancyhdr}
\usepackage[toc,page]{appendix}
\usepackage{listings}
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (e.g. matrices) in maths
\usepackage{paralist} % very flexible & customizable lists (e.g. enumerate, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure / table in a single float
\usepackage[margin=2.5cm]{geometry}

\usepackage{titling} % for useful adjustments to the titles
\usepackage[hyphens]{url} % for simple URL formatting
\usepackage[numbers,sort]{natbib} % automatic short-hand citations

\usepackage[plain]{fancyref} % auto-detection of cross-referenced types
\usepackage{listings} % code listings
\usepackage{shortvrb} % shorthand pre-formatted text

\usepackage{hyperref} % useful stuff for references
\usepackage[hypcap]{caption} % smarter pointing for reference links

\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage{multicol}

\usepackage[stable]{footmisc} % footnotes in section tags

\setlength{\parindent}{0pt}

%%% Headers, footers
\author{Niclas Olofsson}
\pagestyle{fancy}
\renewcommand{\headrulewidth}{1pt}
\fancyhead[LO,L]{Automated testing of a dynamic web application}
\lfoot{}\cfoot{\thepage}\rfoot{}

%%% Custom chapter and section style
\usepackage{titlesec, blindtext, color}
\definecolor{gray75}{gray}{0.75}
\newcommand{\hsp}{\hspace{20pt}}

\usepackage{sectsty}
\allsectionsfont{\sffamily\mdseries\upshape} % sans serif headings

\newcommand{\quotes}[1]{``#1''}

\titleformat{\chapter}[hang]{\Huge\bfseries}{\thechapter\hsp\textcolor{gray75}{|}\hsp}{0pt}{\Huge\bfseries}

\lstset{
language=Ruby,
basicstyle=\small\sffamily,
numbers=left,
numberstyle=\tiny,
frame=tb,
columns=fullflexible,
showstringspaces=false
}

%%% Title page
\makeatletter
\newcommand{\myinfo}{
  \gdef\@myinfo{%
  \begin{tabular}{cl}
  Technical  & Mattias Ekberg\\
  supervisor & GOLI AB\\
  \\
  Supervisor & Anders Fröberg\\
             & IDA, Linköping University\\
  \\
  Examiner & Erik Berglund\\
           & IDA, Linköping University\\
  \end{tabular}
  \par\vspace{12pt}
  \textsc{Linköping University\\
          Department of Computer and Information Science}}
}
% add the extra information after the date
\postdate{\par\vspace{12pt}\@myinfo\end{center}}
\makeatother

\title{\textsc{Master's thesis}\\\Huge\textbf{Automated testing of a dynamic web application}}
\author{Niclas Olofsson}
\date{\today}

\myinfo

\begin{document}

\renewcommand{\lstlistingname}{Code listing}

\maketitle
\newpage

\begin{abstract}
\input{abstract.tex}
\end{abstract}

% Fake that the Acknowledgments is an abstract in order to get a nice style
\renewcommand{\abstractname}{Acknowledgments}

\begin{abstract}
\input{acknowledgements.tex}
\end{abstract}

\setcounter{tocdepth}{4}
\tableofcontents
\thispagestyle{empty} % No page numbering of ToC pages
\newpage

\setcounter{page}{1}

\chapter{Introduction}

  \section{Background}
  \label{sec:background}
  \input{introduction/background.tex}

  \section{Problem formulation}
  \input{introduction/problem.tex}

  \section{Scope and limitations}
  \input{introduction/limitations.tex}

  \section{Conventions and intended audience}
  \input{introduction/conventions.tex}


\chapter{Methodology}
  \input{methodology/method-intro.tex}

  \section{Literature study}
  \input{methodology/literature-study.tex}

  \section{Choices}
  \input{methodology/choices.tex}


\chapter{Theory}
\label{chap:theory}

  \section{Levels of testing}
    \input{theory/levels/levels-intro.tex}

    \subsection{Unit-testing}
    \label{sec:unit_testing}
    \input{theory/levels/unit-testing.tex}

    \subsection{Integration-testing}
    \label{sec:integration_testing}
    \input{theory/levels/integration-testing.tex}

    \subsection{System-testing}
    \input{theory/levels/system-testing.tex}


  \section{Software development methodologies}
    \input{theory/methodologies/intro.tex}

    \subsection{Test-driven development}
    \label{sec:tdd}
    \input{theory/methodologies/tdd.tex}

    \subsection{Behavior-driven development}
    \input{theory/methodologies/bdd.tex}


  \section{Evaluating test efficiency}
    \label{sec:efficiency}
    \input{theory/quality/efficiency.tex}


  \section{Other test quality factors}
    \label{sec:quality}
    \input{theory/quality/quality-factors.tex}


\chapter{Approach}

  \input{approach/approach-intro.tex}

  \section{Hypothesis}
  \label{sec:hypothesis}
  \input{approach/hypothesis.tex}

  \section{Case study}
  \input{approach/case-study.tex}


\chapter{Results}
\label{chap:results}

  \input{results/results-intro.tex}

  \section{Tools and frameworks}

  \section{Chosen test approaches}

  \section{Test efficiency}
  \input{results/quality.tex}

  \section{Execution time}
  \input{results/time.tex}

  \section{Readability and ease of writing}
  \input{results/readability.tex}


\chapter{Discussion}
\label{chap:discussion}

  \input{discussion/discussion-intro.tex}

  \section{Experiences of test-driven development}

  \section{Test efficiency}
  \input{results/quality.tex}

  \section{Test execution time}
  \input{results/time.tex}

  \section{Future work}
  \input{discussion/future.tex}


\chapter{Conclusions}
\label{chap:conclusions}

    \input{conclusions/conclusions.tex}


\newpage

\chapter*{References}
\begin{multicols}{2}
    \small
    \renewcommand{\bibsection}{ \vspace{-\baselineskip}\vspace{-1.1mm} }
    \bibliographystyle{plainnat}
    \bibliography{references}
\end{multicols}

\end{document}
